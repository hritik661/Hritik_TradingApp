{"ast":null,"code":"var _jsxFileName = \"D:\\\\React js Nifty 50\\\\nifty-trading-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, TimeScale, Tooltip, Legend } from \"chart.js\";\nimport { CandlestickController, CandlestickElement } from \"chartjs-chart-financial\";\nimport { Chart } from \"react-chartjs-2\";\nimport \"chartjs-adapter-date-fns\";\nimport axios from \"axios\";\n\n// Register Chart.js components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, TimeScale, Tooltip, Legend, CandlestickController, CandlestickElement);\nfunction App() {\n  _s();\n  const [selectedAsset, setSelectedAsset] = useState(\"BTC\");\n  const [btcChartData, setBtcChartData] = useState({\n    datasets: [{\n      label: \"Bitcoin (BTC/USDT)\",\n      data: [],\n      color: {\n        up: \"rgba(0, 255, 0, 0.8)\",\n        down: \"rgba(255, 0, 0, 0.8)\",\n        unchanged: \"rgba(128, 128, 128, 0.8)\"\n      },\n      barThickness: 4\n    }]\n  });\n  const [niftyChartData, setNiftyChartData] = useState({\n    datasets: [{\n      label: \"Nifty 50\",\n      data: [],\n      color: {\n        up: \"rgba(0, 255, 0, 0.8)\",\n        down: \"rgba(255, 0, 0, 0.8)\",\n        unchanged: \"rgba(128, 128, 128, 0.8)\"\n      },\n      barThickness: 4\n    }]\n  });\n  const [midcapChartData, setMidcapChartData] = useState({\n    datasets: [{\n      label: \"Nifty Midcap 50\",\n      data: [],\n      color: {\n        up: \"rgba(0, 255, 0, 0.8)\",\n        down: \"rgba(255, 0, 0, 0.8)\",\n        unchanged: \"rgba(128, 128, 128, 0.8)\"\n      },\n      barThickness: 4\n    }]\n  });\n  const [sensexChartData, setSensexChartData] = useState({\n    datasets: [{\n      label: \"Sensex\",\n      data: [],\n      color: {\n        up: \"rgba(0, 255, 0, 0.8)\",\n        down: \"rgba(255, 0, 0, 0.8)\",\n        unchanged: \"rgba(128, 128, 128, 0.8)\"\n      },\n      barThickness: 4\n    }]\n  });\n  const [livePrice, setLivePrice] = useState(null);\n  const chartRef = useRef(null);\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: \"top\",\n        labels: {\n          color: \"#ffffff\",\n          font: {\n            size: 14\n          }\n        }\n      },\n      title: {\n        display: true,\n        text: selectedAsset === \"BTC\" ? \"Live Bitcoin Candlestick Chart (5s)\" : selectedAsset === \"NIFTY\" ? \"Nifty 50 Candlestick Chart (5m)\" : selectedAsset === \"MIDCAP\" ? \"Nifty Midcap 50 Candlestick Chart (5m)\" : \"Sensex Candlestick Chart (5m)\",\n        color: \"#ffffff\",\n        font: {\n          size: 18\n        }\n      },\n      tooltip: {\n        backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n        titleColor: \"#ffffff\",\n        bodyColor: \"#ffffff\",\n        callbacks: {\n          label: context => {\n            const candle = context.raw;\n            return `O: ${candle.o} H: ${candle.h} L: ${candle.l} C: ${candle.c}`;\n          }\n        }\n      },\n      annotation: {\n        annotations: {\n          noData: {\n            type: \"label\",\n            xValue: \"center\",\n            yValue: \"center\",\n            content: [\"Data Unavailable\"],\n            color: \"#ffffff\",\n            font: {\n              size: 20\n            },\n            enabled: selectedAsset !== \"BTC\" && (selectedAsset === \"NIFTY\" ? niftyChartData.datasets[0].data.length === 0 : selectedAsset === \"MIDCAP\" ? midcapChartData.datasets[0].data.length === 0 : sensexChartData.datasets[0].data.length === 0)\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        type: \"time\",\n        time: {\n          unit: selectedAsset === \"BTC\" ? \"second\" : \"minute\",\n          stepSize: selectedAsset === \"BTC\" ? 5 : 5,\n          displayFormats: {\n            second: \"HH:mm:ss\",\n            minute: \"HH:mm\"\n          }\n        },\n        ticks: {\n          autoSkip: false,\n          maxRotation: 0,\n          minRotation: 0,\n          color: \"#ffffff\",\n          font: {\n            size: 12\n          }\n        },\n        title: {\n          display: true,\n          text: \"Time\",\n          color: \"#ffffff\",\n          font: {\n            size: 14\n          }\n        },\n        grid: {\n          color: \"rgba(255, 255, 255, 0.1)\"\n        },\n        barPercentage: 0.98,\n        categoryPercentage: 0.99\n      },\n      y: {\n        title: {\n          display: true,\n          text: selectedAsset === \"BTC\" ? \"Price (USDT)\" : \"Index Value\",\n          color: \"#ffffff\",\n          font: {\n            size: 14\n          }\n        },\n        ticks: {\n          color: \"#ffffff\",\n          font: {\n            size: 12\n          }\n        },\n        grid: {\n          color: \"rgba(255, 255, 255, 0.1)\"\n        }\n      }\n    },\n    backgroundColor: \"transparent\"\n  };\n\n  // Bitcoin WebSocket Logic\n  useEffect(() => {\n    if (selectedAsset !== \"BTC\") return;\n    let ws;\n    let currentCandle = null;\n    let candles = [];\n    const connectWebSocket = () => {\n      ws = new WebSocket(\"wss://stream.binance.com:9443/ws/btcusdt@kline_1s\");\n      ws.onopen = () => console.log(\"Connected to Binance WebSocket\");\n      ws.onmessage = event => {\n        const data = JSON.parse(event.data);\n        const kline = data.k;\n        if (!kline) return;\n        const time = new Date(kline.t).getTime();\n        const open = parseFloat(kline.o);\n        const high = parseFloat(kline.h);\n        const low = parseFloat(kline.l);\n        const close = parseFloat(kline.c);\n        const isClosed = kline.x;\n        const fiveSecondInterval = 5000;\n        const currentFiveSecond = Math.floor(time / fiveSecondInterval) * fiveSecondInterval;\n        if (!currentCandle || currentCandle.x < currentFiveSecond) {\n          currentCandle = {\n            x: currentFiveSecond,\n            o: open,\n            h: high,\n            l: low,\n            c: close\n          };\n          if (isClosed) {\n            candles = [...candles, currentCandle].slice(-100);\n            currentCandle = null;\n          }\n        } else {\n          currentCandle.h = Math.max(currentCandle.h, high);\n          currentCandle.l = Math.min(currentCandle.l, low);\n          currentCandle.c = close;\n          if (isClosed) {\n            candles = [...candles, currentCandle].slice(-100);\n            currentCandle = null;\n          }\n        }\n        setBtcChartData(prevData => ({\n          datasets: [{\n            ...prevData.datasets[0],\n            data: [...candles, ...(currentCandle ? [currentCandle] : [])]\n          }]\n        }));\n      };\n      ws.onerror = error => console.error(\"WebSocket error:\", error);\n      ws.onclose = () => setTimeout(connectWebSocket, 2000);\n    };\n    connectWebSocket();\n    return () => ws && ws.close();\n  }, [selectedAsset]);\n\n  // Nifty 50 yfinance Logic via Backend\n  useEffect(() => {\n    if (selectedAsset !== \"NIFTY\") return;\n    let candles = [];\n    const fetchNiftyData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:5000/nifty50/intraday\");\n        candles = response.data;\n        if (!candles || candles.length === 0) {\n          setNiftyChartData(prevData => ({\n            datasets: [{\n              ...prevData.datasets[0],\n              data: []\n            }]\n          }));\n          return;\n        }\n        const fiveMinuteCandles = [];\n        let i = 0;\n        while (i < candles.length) {\n          const fiveMinStart = Math.floor(candles[i].x / (5 * 60 * 1000)) * (5 * 60 * 1000);\n          const candle = {\n            x: fiveMinStart,\n            o: candles[i].o,\n            h: candles[i].h,\n            l: candles[i].l,\n            c: candles[i].c\n          };\n          i++;\n          while (i < candles.length && candles[i].x < fiveMinStart + 5 * 60 * 1000) {\n            candle.h = Math.max(candle.h, candles[i].h);\n            candle.l = Math.min(candle.l, candles[i].l);\n            candle.c = candles[i].c;\n            i++;\n          }\n          fiveMinuteCandles.push(candle);\n        }\n        setNiftyChartData(prevData => ({\n          datasets: [{\n            ...prevData.datasets[0],\n            data: fiveMinuteCandles.slice(-100)\n          }]\n        }));\n      } catch (error) {\n        console.error(\"Error fetching Nifty 50 data:\", error);\n        setNiftyChartData(prevData => ({\n          datasets: [{\n            ...prevData.datasets[0],\n            data: []\n          }]\n        }));\n      }\n    };\n    fetchNiftyData();\n    const interval = setInterval(fetchNiftyData, 60000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n\n  // Nifty Midcap 50 yfinance Logic via Backend\n  useEffect(() => {\n    if (selectedAsset !== \"MIDCAP\") return;\n    let candles = [];\n    const fetchMidcapData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:5000/niftymidcap50/intraday\");\n        candles = response.data;\n        if (!candles || candles.length === 0) {\n          setMidcapChartData(prevData => ({\n            datasets: [{\n              ...prevData.datasets[0],\n              data: []\n            }]\n          }));\n          return;\n        }\n        const fiveMinuteCandles = [];\n        let i = 0;\n        while (i < candles.length) {\n          const fiveMinStart = Math.floor(candles[i].x / (5 * 60 * 1000)) * (5 * 60 * 1000);\n          const candle = {\n            x: fiveMinStart,\n            o: candles[i].o,\n            h: candles[i].h,\n            l: candles[i].l,\n            c: candles[i].c\n          };\n          i++;\n          while (i < candles.length && candles[i].x < fiveMinStart + 5 * 60 * 1000) {\n            candle.h = Math.max(candle.h, candles[i].h);\n            candle.l = Math.min(candle.l, candles[i].l);\n            candle.c = candles[i].c;\n            i++;\n          }\n          fiveMinuteCandles.push(candle);\n        }\n        setMidcapChartData(prevData => ({\n          datasets: [{\n            ...prevData.datasets[0],\n            data: fiveMinuteCandles.slice(-100)\n          }]\n        }));\n      } catch (error) {\n        console.error(\"Error fetching Nifty Midcap 50 data:\", error);\n        setMidcapChartData(prevData => ({\n          datasets: [{\n            ...prevData.datasets[0],\n            data: []\n          }]\n        }));\n      }\n    };\n    fetchMidcapData();\n    const interval = setInterval(fetchMidcapData, 60000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n\n  // Sensex yfinance Logic via Backend\n  useEffect(() => {\n    if (selectedAsset !== \"SENSEX\") return;\n    let candles = [];\n    const fetchSensexData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:5000/sensex/intraday\");\n        candles = response.data;\n        if (!candles || candles.length === 0) {\n          setSensexChartData(prevData => ({\n            datasets: [{\n              ...prevData.datasets[0],\n              data: []\n            }]\n          }));\n          return;\n        }\n        const fiveMinuteCandles = [];\n        let i = 0;\n        while (i < candles.length) {\n          const fiveMinStart = Math.floor(candles[i].x / (5 * 60 * 1000)) * (5 * 60 * 1000);\n          const candle = {\n            x: fiveMinStart,\n            o: candles[i].o,\n            h: candles[i].h,\n            l: candles[i].l,\n            c: candles[i].c\n          };\n          i++;\n          while (i < candles.length && candles[i].x < fiveMinStart + 5 * 60 * 1000) {\n            candle.h = Math.max(candle.h, candles[i].h);\n            candle.l = Math.min(candle.l, candles[i].l);\n            candle.c = candles[i].c;\n            i++;\n          }\n          fiveMinuteCandles.push(candle);\n        }\n        setSensexChartData(prevData => ({\n          datasets: [{\n            ...prevData.datasets[0],\n            data: fiveMinuteCandles.slice(-100)\n          }]\n        }));\n      } catch (error) {\n        console.error(\"Error fetching Sensex data:\", error);\n        setSensexChartData(prevData => ({\n          datasets: [{\n            ...prevData.datasets[0],\n            data: []\n          }]\n        }));\n      }\n    };\n    fetchSensexData();\n    const interval = setInterval(fetchSensexData, 60000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n\n  // Live Price Logic\n  useEffect(() => {\n    const fetchLivePrice = async () => {\n      try {\n        if (selectedAsset === \"BTC\") {\n          const response = await axios.get(\"https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT\");\n          const price = parseFloat(response.data.price).toLocaleString(\"en-US\", {\n            style: \"currency\",\n            currency: \"USD\",\n            minimumFractionDigits: 2\n          });\n          setLivePrice(price);\n        } else {\n          const endpoint = selectedAsset === \"NIFTY\" ? \"http://localhost:5000/nifty50/quote\" : selectedAsset === \"MIDCAP\" ? \"http://localhost:5000/niftymidcap50/quote\" : \"http://localhost:5000/sensex/quote\";\n          const response = await axios.get(endpoint);\n          const quoteData = response.data;\n          if (quoteData.error || !quoteData.price) {\n            const now = new Date();\n            const istOffset = 5.5 * 60 * 60 * 1000; // IST is UTC+5:30\n            const istTime = new Date(now.getTime() + istOffset);\n            const hours = istTime.getUTCHours();\n            const minutes = istTime.getUTCMinutes();\n            const isMarketOpen = hours >= 9 && (hours < 15 || hours === 15 && minutes <= 30);\n            setLivePrice(isMarketOpen ? \"Data Unavailable\" : \"Market Closed\");\n            return;\n          }\n          const price = parseFloat(quoteData.price).toLocaleString(\"en-IN\", {\n            style: \"currency\",\n            currency: \"INR\",\n            minimumFractionDigits: 2\n          });\n          setLivePrice(price);\n        }\n      } catch (error) {\n        console.error(\"Error fetching live price:\", error);\n        setLivePrice(\"Price unavailable\");\n      }\n    };\n    fetchLivePrice();\n    const interval = setInterval(fetchLivePrice, 5000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: \"#1a1a1a\",\n      color: \"#ffffff\",\n      minHeight: \"100vh\",\n      padding: \"2%\",\n      fontFamily: \"Arial, sans-serif\",\n      boxSizing: \"border-box\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: \"#00b4d8\",\n        textAlign: \"center\",\n        marginBottom: \"3%\",\n        fontSize: \"clamp(1.5rem, 5vw, 2.5rem)\",\n        textShadow: \"0 2px 4px rgba(0, 0, 0, 0.5)\"\n      },\n      children: \"Crypto & Indices Indian Trading App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"3%\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"center\",\n        gap: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedAsset(\"BTC\"),\n        style: {\n          padding: \"1% 2%\",\n          backgroundColor: selectedAsset === \"BTC\" ? \"#00b4d8\" : \"#2d2d2d\",\n          color: \"#ffffff\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n          cursor: \"pointer\",\n          minWidth: \"100px\"\n        },\n        children: \"Bitcoin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedAsset(\"NIFTY\"),\n        style: {\n          padding: \"1% 2%\",\n          backgroundColor: selectedAsset === \"NIFTY\" ? \"#00b4d8\" : \"#2d2d2d\",\n          color: \"#ffffff\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n          cursor: \"pointer\",\n          minWidth: \"100px\"\n        },\n        children: \"Nifty 50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedAsset(\"MIDCAP\"),\n        style: {\n          padding: \"1% 2%\",\n          backgroundColor: selectedAsset === \"MIDCAP\" ? \"#00b4d8\" : \"#2d2d2d\",\n          color: \"#ffffff\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n          cursor: \"pointer\",\n          minWidth: \"100px\"\n        },\n        children: \"Nifty Midcap 50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedAsset(\"SENSEX\"),\n        style: {\n          padding: \"1% 2%\",\n          backgroundColor: selectedAsset === \"SENSEX\" ? \"#00b4d8\" : \"#2d2d2d\",\n          color: \"#ffffff\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n          cursor: \"pointer\",\n          minWidth: \"100px\"\n        },\n        children: \"Sensex\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"100%\",\n        maxWidth: \"1200px\",\n        margin: \"0 auto\",\n        backgroundColor: \"#2d2d2d\",\n        borderRadius: \"12px\",\n        boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.3)\",\n        padding: \"2%\",\n        height: \"60vh\",\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Chart, {\n        type: \"candlestick\",\n        data: selectedAsset === \"BTC\" ? btcChartData : selectedAsset === \"NIFTY\" ? niftyChartData : selectedAsset === \"MIDCAP\" ? midcapChartData : sensexChartData,\n        options: options,\n        ref: chartRef,\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: \"3%\",\n        padding: \"2%\",\n        background: \"linear-gradient(45deg, #2d2d2d, #3a3a3a)\",\n        borderRadius: \"15px\",\n        boxShadow: \"0 6px 15px rgba(0, 0, 0, 0.4)\",\n        width: \"90%\",\n        maxWidth: \"800px\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"clamp(1.2rem, 4vw, 2rem)\",\n          color: \"#00b4d8\",\n          fontWeight: \"bold\",\n          textShadow: \"0 2px 6px rgba(0, 180, 216, 0.7)\",\n          animation: \"pricePulse 2s infinite\",\n          textAlign: \"center\"\n        },\n        children: livePrice ? `Live ${selectedAsset === \"BTC\" ? \"Bitcoin\" : selectedAsset === \"NIFTY\" ? \"Nifty 50\" : selectedAsset === \"MIDCAP\" ? \"Nifty Midcap 50\" : \"Sensex\"} Price: ${livePrice}` : \"Loading live price...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes pricePulse {\n            0% { transform: scale(1); }\n            50% { transform: scale(1.05); }\n            100% { transform: scale(1); }\n          }\n          @media (max-width: 768px) {\n            h1 { font-size: clamp(1.2rem, 4vw, 2rem); }\n            button { padding: 8px 16px; min-width: 80px; margin: 5px; }\n            div[style*=\"height: 60vh\"] { height: 50vh; min-height: 250px; }\n            span[style*=\"fontSize\"] { font-size: clamp(1rem, 3.5vw, 1.5rem); }\n          }\n          @media (max-width: 480px) {\n            h1 { font-size: clamp(1rem, 3vw, 1.5rem); }\n            button { padding: 6px 12px; min-width: 70px; }\n            div[style*=\"height: 60vh\"] { height: 40vh; min-height: 200px; }\n            span[style*=\"fontSize\"] { font-size: clamp(0.8rem, 3vw, 1.2rem); }\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 486,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"RfXVris+qCbS+/nyQLKrPy24ZDE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Chart","ChartJS","CategoryScale","LinearScale","TimeScale","Tooltip","Legend","CandlestickController","CandlestickElement","axios","jsxDEV","_jsxDEV","register","App","_s","selectedAsset","setSelectedAsset","btcChartData","setBtcChartData","datasets","label","data","color","up","down","unchanged","barThickness","niftyChartData","setNiftyChartData","midcapChartData","setMidcapChartData","sensexChartData","setSensexChartData","livePrice","setLivePrice","chartRef","options","responsive","maintainAspectRatio","plugins","legend","position","labels","font","size","title","display","text","tooltip","backgroundColor","titleColor","bodyColor","callbacks","context","candle","raw","o","h","l","c","annotation","annotations","noData","type","xValue","yValue","content","enabled","length","scales","x","time","unit","stepSize","displayFormats","second","minute","ticks","autoSkip","maxRotation","minRotation","grid","barPercentage","categoryPercentage","y","ws","currentCandle","candles","connectWebSocket","WebSocket","onopen","console","log","onmessage","event","JSON","parse","kline","k","Date","t","getTime","open","parseFloat","high","low","close","isClosed","fiveSecondInterval","currentFiveSecond","Math","floor","slice","max","min","prevData","onerror","error","onclose","setTimeout","fetchNiftyData","response","get","fiveMinuteCandles","i","fiveMinStart","push","interval","setInterval","clearInterval","fetchMidcapData","fetchSensexData","fetchLivePrice","price","toLocaleString","style","currency","minimumFractionDigits","endpoint","quoteData","now","istOffset","istTime","hours","getUTCHours","minutes","getUTCMinutes","isMarketOpen","minHeight","padding","fontFamily","boxSizing","children","textAlign","marginBottom","fontSize","textShadow","fileName","_jsxFileName","lineNumber","columnNumber","flexWrap","justifyContent","gap","onClick","border","borderRadius","cursor","minWidth","width","maxWidth","margin","boxShadow","height","ref","alignItems","marginTop","background","marginLeft","marginRight","fontWeight","animation","_c","$RefreshReg$"],"sources":["D:/React js Nifty 50/nifty-trading-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  TimeScale,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nimport {\n  CandlestickController,\n  CandlestickElement,\n} from \"chartjs-chart-financial\";\nimport { Chart } from \"react-chartjs-2\";\nimport \"chartjs-adapter-date-fns\";\nimport axios from \"axios\";\n\n// Register Chart.js components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  TimeScale,\n  Tooltip,\n  Legend,\n  CandlestickController,\n  CandlestickElement\n);\n\nfunction App() {\n  const [selectedAsset, setSelectedAsset] = useState(\"BTC\");\n  const [btcChartData, setBtcChartData] = useState({\n    datasets: [\n      {\n        label: \"Bitcoin (BTC/USDT)\",\n        data: [],\n        color: {\n          up: \"rgba(0, 255, 0, 0.8)\",\n          down: \"rgba(255, 0, 0, 0.8)\",\n          unchanged: \"rgba(128, 128, 128, 0.8)\",\n        },\n        barThickness: 4,\n      },\n    ],\n  });\n  const [niftyChartData, setNiftyChartData] = useState({\n    datasets: [\n      {\n        label: \"Nifty 50\",\n        data: [],\n        color: {\n          up: \"rgba(0, 255, 0, 0.8)\",\n          down: \"rgba(255, 0, 0, 0.8)\",\n          unchanged: \"rgba(128, 128, 128, 0.8)\",\n        },\n        barThickness: 4,\n      },\n    ],\n  });\n  const [midcapChartData, setMidcapChartData] = useState({\n    datasets: [\n      {\n        label: \"Nifty Midcap 50\",\n        data: [],\n        color: {\n          up: \"rgba(0, 255, 0, 0.8)\",\n          down: \"rgba(255, 0, 0, 0.8)\",\n          unchanged: \"rgba(128, 128, 128, 0.8)\",\n        },\n        barThickness: 4,\n      },\n    ],\n  });\n  const [sensexChartData, setSensexChartData] = useState({\n    datasets: [\n      {\n        label: \"Sensex\",\n        data: [],\n        color: {\n          up: \"rgba(0, 255, 0, 0.8)\",\n          down: \"rgba(255, 0, 0, 0.8)\",\n          unchanged: \"rgba(128, 128, 128, 0.8)\",\n        },\n        barThickness: 4,\n      },\n    ],\n  });\n  const [livePrice, setLivePrice] = useState(null);\n  const chartRef = useRef(null);\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: \"top\",\n        labels: { color: \"#ffffff\", font: { size: 14 } },\n      },\n      title: {\n        display: true,\n        text:\n          selectedAsset === \"BTC\"\n            ? \"Live Bitcoin Candlestick Chart (5s)\"\n            : selectedAsset === \"NIFTY\"\n            ? \"Nifty 50 Candlestick Chart (5m)\"\n            : selectedAsset === \"MIDCAP\"\n            ? \"Nifty Midcap 50 Candlestick Chart (5m)\"\n            : \"Sensex Candlestick Chart (5m)\",\n        color: \"#ffffff\",\n        font: { size: 18 },\n      },\n      tooltip: {\n        backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n        titleColor: \"#ffffff\",\n        bodyColor: \"#ffffff\",\n        callbacks: {\n          label: (context) => {\n            const candle = context.raw;\n            return `O: ${candle.o} H: ${candle.h} L: ${candle.l} C: ${candle.c}`;\n          },\n        },\n      },\n      annotation: {\n        annotations: {\n          noData: {\n            type: \"label\",\n            xValue: \"center\",\n            yValue: \"center\",\n            content: [\"Data Unavailable\"],\n            color: \"#ffffff\",\n            font: { size: 20 },\n            enabled:\n              selectedAsset !== \"BTC\" &&\n              (selectedAsset === \"NIFTY\"\n                ? niftyChartData.datasets[0].data.length === 0\n                : selectedAsset === \"MIDCAP\"\n                ? midcapChartData.datasets[0].data.length === 0\n                : sensexChartData.datasets[0].data.length === 0),\n          },\n        },\n      },\n    },\n    scales: {\n      x: {\n        type: \"time\",\n        time: {\n          unit: selectedAsset === \"BTC\" ? \"second\" : \"minute\",\n          stepSize: selectedAsset === \"BTC\" ? 5 : 5,\n          displayFormats: { second: \"HH:mm:ss\", minute: \"HH:mm\" },\n        },\n        ticks: {\n          autoSkip: false,\n          maxRotation: 0,\n          minRotation: 0,\n          color: \"#ffffff\",\n          font: { size: 12 },\n        },\n        title: {\n          display: true,\n          text: \"Time\",\n          color: \"#ffffff\",\n          font: { size: 14 },\n        },\n        grid: { color: \"rgba(255, 255, 255, 0.1)\" },\n        barPercentage: 0.98,\n        categoryPercentage: 0.99,\n      },\n      y: {\n        title: {\n          display: true,\n          text: selectedAsset === \"BTC\" ? \"Price (USDT)\" : \"Index Value\",\n          color: \"#ffffff\",\n          font: { size: 14 },\n        },\n        ticks: { color: \"#ffffff\", font: { size: 12 } },\n        grid: { color: \"rgba(255, 255, 255, 0.1)\" },\n      },\n    },\n    backgroundColor: \"transparent\",\n  };\n\n  // Bitcoin WebSocket Logic\n  useEffect(() => {\n    if (selectedAsset !== \"BTC\") return;\n    let ws;\n    let currentCandle = null;\n    let candles = [];\n\n    const connectWebSocket = () => {\n      ws = new WebSocket(\"wss://stream.binance.com:9443/ws/btcusdt@kline_1s\");\n      ws.onopen = () => console.log(\"Connected to Binance WebSocket\");\n      ws.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        const kline = data.k;\n        if (!kline) return;\n\n        const time = new Date(kline.t).getTime();\n        const open = parseFloat(kline.o);\n        const high = parseFloat(kline.h);\n        const low = parseFloat(kline.l);\n        const close = parseFloat(kline.c);\n        const isClosed = kline.x;\n\n        const fiveSecondInterval = 5000;\n        const currentFiveSecond =\n          Math.floor(time / fiveSecondInterval) * fiveSecondInterval;\n\n        if (!currentCandle || currentCandle.x < currentFiveSecond) {\n          currentCandle = {\n            x: currentFiveSecond,\n            o: open,\n            h: high,\n            l: low,\n            c: close,\n          };\n          if (isClosed) {\n            candles = [...candles, currentCandle].slice(-100);\n            currentCandle = null;\n          }\n        } else {\n          currentCandle.h = Math.max(currentCandle.h, high);\n          currentCandle.l = Math.min(currentCandle.l, low);\n          currentCandle.c = close;\n          if (isClosed) {\n            candles = [...candles, currentCandle].slice(-100);\n            currentCandle = null;\n          }\n        }\n\n        setBtcChartData((prevData) => ({\n          datasets: [\n            {\n              ...prevData.datasets[0],\n              data: [...candles, ...(currentCandle ? [currentCandle] : [])],\n            },\n          ],\n        }));\n      };\n      ws.onerror = (error) => console.error(\"WebSocket error:\", error);\n      ws.onclose = () => setTimeout(connectWebSocket, 2000);\n    };\n\n    connectWebSocket();\n    return () => ws && ws.close();\n  }, [selectedAsset]);\n\n  // Nifty 50 yfinance Logic via Backend\n  useEffect(() => {\n    if (selectedAsset !== \"NIFTY\") return;\n    let candles = [];\n\n    const fetchNiftyData = async () => {\n      try {\n        const response = await axios.get(\n          \"http://localhost:5000/nifty50/intraday\"\n        );\n        candles = response.data;\n\n        if (!candles || candles.length === 0) {\n          setNiftyChartData((prevData) => ({\n            datasets: [{ ...prevData.datasets[0], data: [] }],\n          }));\n          return;\n        }\n\n        const fiveMinuteCandles = [];\n        let i = 0;\n        while (i < candles.length) {\n          const fiveMinStart =\n            Math.floor(candles[i].x / (5 * 60 * 1000)) * (5 * 60 * 1000);\n          const candle = {\n            x: fiveMinStart,\n            o: candles[i].o,\n            h: candles[i].h,\n            l: candles[i].l,\n            c: candles[i].c,\n          };\n          i++;\n          while (\n            i < candles.length &&\n            candles[i].x < fiveMinStart + 5 * 60 * 1000\n          ) {\n            candle.h = Math.max(candle.h, candles[i].h);\n            candle.l = Math.min(candle.l, candles[i].l);\n            candle.c = candles[i].c;\n            i++;\n          }\n          fiveMinuteCandles.push(candle);\n        }\n\n        setNiftyChartData((prevData) => ({\n          datasets: [\n            { ...prevData.datasets[0], data: fiveMinuteCandles.slice(-100) },\n          ],\n        }));\n      } catch (error) {\n        console.error(\"Error fetching Nifty 50 data:\", error);\n        setNiftyChartData((prevData) => ({\n          datasets: [{ ...prevData.datasets[0], data: [] }],\n        }));\n      }\n    };\n\n    fetchNiftyData();\n    const interval = setInterval(fetchNiftyData, 60000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n\n  // Nifty Midcap 50 yfinance Logic via Backend\n  useEffect(() => {\n    if (selectedAsset !== \"MIDCAP\") return;\n    let candles = [];\n\n    const fetchMidcapData = async () => {\n      try {\n        const response = await axios.get(\n          \"http://localhost:5000/niftymidcap50/intraday\"\n        );\n        candles = response.data;\n\n        if (!candles || candles.length === 0) {\n          setMidcapChartData((prevData) => ({\n            datasets: [{ ...prevData.datasets[0], data: [] }],\n          }));\n          return;\n        }\n\n        const fiveMinuteCandles = [];\n        let i = 0;\n        while (i < candles.length) {\n          const fiveMinStart =\n            Math.floor(candles[i].x / (5 * 60 * 1000)) * (5 * 60 * 1000);\n          const candle = {\n            x: fiveMinStart,\n            o: candles[i].o,\n            h: candles[i].h,\n            l: candles[i].l,\n            c: candles[i].c,\n          };\n          i++;\n          while (\n            i < candles.length &&\n            candles[i].x < fiveMinStart + 5 * 60 * 1000\n          ) {\n            candle.h = Math.max(candle.h, candles[i].h);\n            candle.l = Math.min(candle.l, candles[i].l);\n            candle.c = candles[i].c;\n            i++;\n          }\n          fiveMinuteCandles.push(candle);\n        }\n\n        setMidcapChartData((prevData) => ({\n          datasets: [\n            { ...prevData.datasets[0], data: fiveMinuteCandles.slice(-100) },\n          ],\n        }));\n      } catch (error) {\n        console.error(\"Error fetching Nifty Midcap 50 data:\", error);\n        setMidcapChartData((prevData) => ({\n          datasets: [{ ...prevData.datasets[0], data: [] }],\n        }));\n      }\n    };\n\n    fetchMidcapData();\n    const interval = setInterval(fetchMidcapData, 60000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n\n  // Sensex yfinance Logic via Backend\n  useEffect(() => {\n    if (selectedAsset !== \"SENSEX\") return;\n    let candles = [];\n\n    const fetchSensexData = async () => {\n      try {\n        const response = await axios.get(\n          \"http://localhost:5000/sensex/intraday\"\n        );\n        candles = response.data;\n\n        if (!candles || candles.length === 0) {\n          setSensexChartData((prevData) => ({\n            datasets: [{ ...prevData.datasets[0], data: [] }],\n          }));\n          return;\n        }\n\n        const fiveMinuteCandles = [];\n        let i = 0;\n        while (i < candles.length) {\n          const fiveMinStart =\n            Math.floor(candles[i].x / (5 * 60 * 1000)) * (5 * 60 * 1000);\n          const candle = {\n            x: fiveMinStart,\n            o: candles[i].o,\n            h: candles[i].h,\n            l: candles[i].l,\n            c: candles[i].c,\n          };\n          i++;\n          while (\n            i < candles.length &&\n            candles[i].x < fiveMinStart + 5 * 60 * 1000\n          ) {\n            candle.h = Math.max(candle.h, candles[i].h);\n            candle.l = Math.min(candle.l, candles[i].l);\n            candle.c = candles[i].c;\n            i++;\n          }\n          fiveMinuteCandles.push(candle);\n        }\n\n        setSensexChartData((prevData) => ({\n          datasets: [\n            { ...prevData.datasets[0], data: fiveMinuteCandles.slice(-100) },\n          ],\n        }));\n      } catch (error) {\n        console.error(\"Error fetching Sensex data:\", error);\n        setSensexChartData((prevData) => ({\n          datasets: [{ ...prevData.datasets[0], data: [] }],\n        }));\n      }\n    };\n\n    fetchSensexData();\n    const interval = setInterval(fetchSensexData, 60000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n\n  // Live Price Logic\n  useEffect(() => {\n    const fetchLivePrice = async () => {\n      try {\n        if (selectedAsset === \"BTC\") {\n          const response = await axios.get(\n            \"https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT\"\n          );\n          const price = parseFloat(response.data.price).toLocaleString(\n            \"en-US\",\n            { style: \"currency\", currency: \"USD\", minimumFractionDigits: 2 }\n          );\n          setLivePrice(price);\n        } else {\n          const endpoint =\n            selectedAsset === \"NIFTY\"\n              ? \"http://localhost:5000/nifty50/quote\"\n              : selectedAsset === \"MIDCAP\"\n              ? \"http://localhost:5000/niftymidcap50/quote\"\n              : \"http://localhost:5000/sensex/quote\";\n\n          const response = await axios.get(endpoint);\n          const quoteData = response.data;\n          if (quoteData.error || !quoteData.price) {\n            const now = new Date();\n            const istOffset = 5.5 * 60 * 60 * 1000; // IST is UTC+5:30\n            const istTime = new Date(now.getTime() + istOffset);\n            const hours = istTime.getUTCHours();\n            const minutes = istTime.getUTCMinutes();\n            const isMarketOpen =\n              hours >= 9 && (hours < 15 || (hours === 15 && minutes <= 30));\n            setLivePrice(isMarketOpen ? \"Data Unavailable\" : \"Market Closed\");\n            return;\n          }\n\n          const price = parseFloat(quoteData.price).toLocaleString(\"en-IN\", {\n            style: \"currency\",\n            currency: \"INR\",\n            minimumFractionDigits: 2,\n          });\n          setLivePrice(price);\n        }\n      } catch (error) {\n        console.error(\"Error fetching live price:\", error);\n        setLivePrice(\"Price unavailable\");\n      }\n    };\n\n    fetchLivePrice();\n    const interval = setInterval(fetchLivePrice, 5000);\n    return () => clearInterval(interval);\n  }, [selectedAsset]);\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"#1a1a1a\",\n        color: \"#ffffff\",\n        minHeight: \"100vh\",\n        padding: \"2%\",\n        fontFamily: \"Arial, sans-serif\",\n        boxSizing: \"border-box\",\n      }}\n    >\n      <h1\n        style={{\n          color: \"#00b4d8\",\n          textAlign: \"center\",\n          marginBottom: \"3%\",\n          fontSize: \"clamp(1.5rem, 5vw, 2.5rem)\",\n          textShadow: \"0 2px 4px rgba(0, 0, 0, 0.5)\",\n        }}\n      >\n        Crypto & Indices Indian Trading App\n      </h1>\n      <div\n        style={{\n          textAlign: \"center\",\n          marginBottom: \"3%\",\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          justifyContent: \"center\",\n          gap: \"1rem\",\n        }}\n      >\n        <button\n          onClick={() => setSelectedAsset(\"BTC\")}\n          style={{\n            padding: \"1% 2%\",\n            backgroundColor: selectedAsset === \"BTC\" ? \"#00b4d8\" : \"#2d2d2d\",\n            color: \"#ffffff\",\n            border: \"none\",\n            borderRadius: \"5px\",\n            fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n            cursor: \"pointer\",\n            minWidth: \"100px\",\n          }}\n        >\n          Bitcoin\n        </button>\n        <button\n          onClick={() => setSelectedAsset(\"NIFTY\")}\n          style={{\n            padding: \"1% 2%\",\n            backgroundColor: selectedAsset === \"NIFTY\" ? \"#00b4d8\" : \"#2d2d2d\",\n            color: \"#ffffff\",\n            border: \"none\",\n            borderRadius: \"5px\",\n            fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n            cursor: \"pointer\",\n            minWidth: \"100px\",\n          }}\n        >\n          Nifty 50\n        </button>\n        <button\n          onClick={() => setSelectedAsset(\"MIDCAP\")}\n          style={{\n            padding: \"1% 2%\",\n            backgroundColor: selectedAsset === \"MIDCAP\" ? \"#00b4d8\" : \"#2d2d2d\",\n            color: \"#ffffff\",\n            border: \"none\",\n            borderRadius: \"5px\",\n            fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n            cursor: \"pointer\",\n            minWidth: \"100px\",\n          }}\n        >\n          Nifty Midcap 50\n        </button>\n        <button\n          onClick={() => setSelectedAsset(\"SENSEX\")}\n          style={{\n            padding: \"1% 2%\",\n            backgroundColor: selectedAsset === \"SENSEX\" ? \"#00b4d8\" : \"#2d2d2d\",\n            color: \"#ffffff\",\n            border: \"none\",\n            borderRadius: \"5px\",\n            fontSize: \"clamp(0.9rem, 2.5vw, 1rem)\",\n            cursor: \"pointer\",\n            minWidth: \"100px\",\n          }}\n        >\n          Sensex\n        </button>\n      </div>\n      <div\n        style={{\n          width: \"100%\",\n          maxWidth: \"1200px\",\n          margin: \"0 auto\",\n          backgroundColor: \"#2d2d2d\",\n          borderRadius: \"12px\",\n          boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.3)\",\n          padding: \"2%\",\n          height: \"60vh\",\n          minHeight: \"300px\",\n        }}\n      >\n        <Chart\n          type=\"candlestick\"\n          data={\n            selectedAsset === \"BTC\"\n              ? btcChartData\n              : selectedAsset === \"NIFTY\"\n              ? niftyChartData\n              : selectedAsset === \"MIDCAP\"\n              ? midcapChartData\n              : sensexChartData\n          }\n          options={options}\n          ref={chartRef}\n          style={{ height: \"100%\", width: \"100%\" }}\n        />\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginTop: \"3%\",\n          padding: \"2%\",\n          background: \"linear-gradient(45deg, #2d2d2d, #3a3a3a)\",\n          borderRadius: \"15px\",\n          boxShadow: \"0 6px 15px rgba(0, 0, 0, 0.4)\",\n          width: \"90%\",\n          maxWidth: \"800px\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n        }}\n      >\n        <span\n          style={{\n            fontSize: \"clamp(1.2rem, 4vw, 2rem)\",\n            color: \"#00b4d8\",\n            fontWeight: \"bold\",\n            textShadow: \"0 2px 6px rgba(0, 180, 216, 0.7)\",\n            animation: \"pricePulse 2s infinite\",\n            textAlign: \"center\",\n          }}\n        >\n          {livePrice\n            ? `Live ${\n                selectedAsset === \"BTC\"\n                  ? \"Bitcoin\"\n                  : selectedAsset === \"NIFTY\"\n                  ? \"Nifty 50\"\n                  : selectedAsset === \"MIDCAP\"\n                  ? \"Nifty Midcap 50\"\n                  : \"Sensex\"\n              } Price: ${livePrice}`\n            : \"Loading live price...\"}\n        </span>\n      </div>\n      <style>\n        {`\n          @keyframes pricePulse {\n            0% { transform: scale(1); }\n            50% { transform: scale(1.05); }\n            100% { transform: scale(1); }\n          }\n          @media (max-width: 768px) {\n            h1 { font-size: clamp(1.2rem, 4vw, 2rem); }\n            button { padding: 8px 16px; min-width: 80px; margin: 5px; }\n            div[style*=\"height: 60vh\"] { height: 50vh; min-height: 250px; }\n            span[style*=\"fontSize\"] { font-size: clamp(1rem, 3.5vw, 1.5rem); }\n          }\n          @media (max-width: 480px) {\n            h1 { font-size: clamp(1rem, 3vw, 1.5rem); }\n            button { padding: 6px 12px; min-width: 70px; }\n            div[style*=\"height: 60vh\"] { height: 40vh; min-height: 200px; }\n            span[style*=\"fontSize\"] { font-size: clamp(0.8rem, 3vw, 1.2rem); }\n          }\n        `}\n      </style>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}